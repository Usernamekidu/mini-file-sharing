<!DOCTYPE html>
<html lang="en" ng-app="landing">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- ===========================
        THEME INFO
        =========================== -->
    <meta name="description"
          content="A free Bootstrap powerd HTML template exclusively crafted for the super lazy designers like me who designed thousand of websites till today but never got a chance to build one himself.">
    <meta name="keywords"
          content="Free Portfolio Template, Free Template, Free Bootstrap Template, Dribbble Portfolio Template, Free HTML5 Template">
    <meta name="author" content="EvenFly Team">

    <!-- DEVEOPER'S NOTE:
        This is a free Bootstrap powered HTML template from EvenFly. Feel free to download, modify and use it for yourself or your clients as long there is no money involved.
        Please don't try to sale it from anywhere; because I want it to be free, forever. If you sale it, That's me who deserves the money, not you :)
        -->
    <!-- ===========================
        SITE TITLE
        =========================== -->
    <title>Mini File Sharing</title>
    <!-- This is what you see on your browser tab-->
    <!-- ===========================
        FAVICONS
        =========================== -->
    <link rel="icon" href="images/favicon.png">
    <link rel="apple-touch-icon" sizes="144x144"
          href="images/apple-touch-icon-ipad-retina.png"/>
    <link rel="apple-touch-icon" sizes="114x114"
          href="images/apple-touch-icon-iphone-retina.png"/>
    <link rel="apple-touch-icon" sizes="72x72"
          href="images/apple-touch-icon-ipad.png"/>
    <link rel="apple-touch-icon" sizes="57x57"
          href="images/apple-touch-icon-iphone.png"/>

    <!-- ===========================
        STYLESHEETS
        =========================== -->

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/preloader.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/landing.css">
    <link rel="stylesheet" href="css/all-style.css">

    <!-- ===========================
        ICONS:
        =========================== -->
    <link rel="stylesheet" href="css/simple-line-icons.css">

    <!-- ===========================
        GOOGLE FONTS
        =========================== -->
    <!-- <link rel="stylesheet"
        href="http://fonts.googleapis.com/css?family=Antic|Raleway:300"> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ===========================
       GOOGLE ANALYTICS (Optional)
       =========================== -->

    <!--Replace this line with your analytics code-->

    <!-- Analytics end-->
    <script>
        function load() {
            $('#myModal').modal('show');
        }

        function openByModal() {
            $('#byModal').modal('show');
            $('.modal-backdrop').removeClass("modal-backdrop");
        }

        function toast() {
            var a = document.getElementsById("m-toast-blue");
            a.className = "show";
            setTimeout(function () {
                a.className = a.className.replace("show", "");
            }, 3000);
        }
    </script>
</head>
<body data-spy="scroll" ng-controller="landingController"
      th:attr="ng-init='userName='+${userName}+''">
<header>
    <!-- ===========================
     NAVBAR START
     =========================== -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">

            <div class="navbar-header">
                <a class="navbar-brand" href="#hero">
                    <!-- Replace Drifolio Bootstrap with your Site Name and remove icon-grid to remove the placeholder icon -->
                    <span class="brandicon icon-grid"></span> <span class="brandname">Mini
							File Sharing</span>
                </a>
            </div>

            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/member#/upload" class="m-white-text"><span class="btnicon icon-arrow-up"></span>UPLOAD</a>
                    </li>
                    <li>
                        <div class="dropdown">
                            <a href="/login" th:if="${userName} == null">
                                <button
                                        class="m-btn m-button navbar-btn m-green m-green-hover m-white-text">Sign In
                                </button>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="dropdown">
                            <a th:if="${userName} != null">
                                <button class="m-button navbar-btn m-green m-green-hover m-white-text">
                                    <span class="fa fa-user"></span>
                                    <span th:text="${userName}" class="user-span">${userName}</span>
                                </button>
                            </a>
                            <div class="dropdown-content">
                                <a href="/member"> <span class="fa fa-file"></span>Profile Management</a>
                                <a href="/logout"> <span class="fa fa-sign-out"></span>Logout</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <!--.nav-collapse -->
        </div>
    </nav>
    <!--navbar end-->
</header>
<div class="btn toTop-btn" onclick="toTop()">
    <i class="glyphicon glyphicon-chevron-up"></i>
</div>

<!-- ===========================
SERVICE SECTION START
=========================== -->

<!-- SERVICE SECTION END -->

<!-- ===========================
PRODUCT DETAIL SECTION START
=========================== -->
<div id="explore" class="container">
    <div class="sectionhead  row wow fadeInUp">
        <!--<span class="bigicon icon-list "></span>-->
        <h3>This is what we have for you</h3>
        <!--<hr class="separetor">-->
    </div>


    <div class="row">{{msgErrorDownload}}</div>
    <div class="opacity-content">
        <div class="container search-content">
            <form class="search-form"
                  ng-submit="searchFile(Selectedtype,infoSearch)">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-10">
                        <select
                                class="button-by m-button m-green m-green-hover m-white-text"
                                ng-model="Selectedtype" ng-options="type for type in types">
                        </select> <input class="input-search m-inline" type="text"
                                         placeholder="Search ..." ng-model="infoSearch" empty-to-null>
                        <button type="submit"
                                class="button-search m-button m-green m-green-hover m-white-text">
                            <span class="fa fa-search"></span>
                        </button>
                        <div class="filter-form">
                            <input class="input-filter" type="text" id="myInput"
                                   placeholder="Filter ..." ng-model="filterFile">
                        </div>
                    </div>

                    <div class="col-md-1"></div>
                </div>

            </form>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="">
                        <table class="table m-table">
                            <thead>
                            <tr>
                                <th width="5%">#</th>
                                <th class="m-cursor-pointer"
                                    ng-click="sortType = 'file.name'; sortReverse = !sortReverse">
                                    Name <span ng-show="sortType == 'file.name' && !sortReverse"
                                               class="fa fa-caret-down"></span> <span
                                        ng-show="sortType == 'file.name' && sortReverse"
                                        class="fa fa-caret-up"></span>
                                </th>
                                <th class="m-cursor-pointer" width="10%"
                                    ng-click="sortType='file.size' ; sortReverse=!sortReverse">
                                    Size <span ng-show="sortType == 'file.size' && !sortReverse"
                                               class="fa fa-caret-down"> </span> <span
                                        ng-show="sortType == 'file.size' && sortReverse"
                                        class="fa fa-caret-up"></span>
                                </th>
                                <th class="m-cursor-pointer" width="15%"
                                    ng-click="sortType = 'file.dateupload'; sortReverse = !sortReverse">
                                    Updated Date <span
                                        ng-show="sortType == 'file.dateupload' && !sortReverse"
                                        class="fa fa-caret-down"></span> <span
                                        ng-show="sortType == 'file.dateupload' && sortReverse"
                                        class="fa fa-caret-up"></span>
                                </th>
                                <th class="m-cursor-pointer" width="10%"
                                    ng-click="sortType = 'file.userId.name'; sortReverse = !sortReverse">
                                    Owner <span
                                        ng-show="sortType == 'file.userId.name' && !sortReverse"
                                        class="fa fa-caret-down"></span> <span
                                        ng-show="sortType == 'file.userId.name' && sortReverse"
                                        class="fa fa-caret-up"></span>
                                </th>
                                <th width="20%">Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr
                                    ng-repeat="file in files.content  | filter:filterFile | orderBy:sortType:sortReverse track by $index">
                                <td>{{$index+1}}</td>
                                <td class="m-text-align-left">{{file.name}}</td>
                                <td>{{file.size | sizeFormat}}</td>
                                <td>{{file.dateupload | date:'dd-MM-yyyy'}}</td>
                                <td>{{file.userId.name}}</td>
                                <td><span th:if="${userName} == null">
												<button ng-click="loginAlert()" type="button"
                                                        class="m-button m-button-circle m-orange m-orange-hover m-white-text">
													<span class="fa fa-download"></span>
												</button>

										</span> <span th:if="${userName} != null">
												<button ng-click="downloadFile(file.id)" type="button"
                                                        class="m-button m-button-circle m-orange m-orange-hover m-white-text">
													<span class="fa fa-download "></span>
												</button>
										</span>
                                    <button ng-click="getInfoFile(file.id)" type="button"
                                            class="m-button m-button-circle m-blue m-blue-hover m-white-text">
                                        <span class="fa fa-info"></span>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="col-md-1"></div>
            </div>
        </div>

        <div class="row m-text-align-center">
            <div class="m-inline">
                <button class="m-button m-green m-green-hover m-white-text"
                        ng-click="searchFile(Selectedtype,infoSearch,page=page-1)"
                        ng-disabled="page-1<0">Prev
                </button>
            </div>
            <div class="m-inline m-margin-left"
                 ng-repeat="i in getNumber(pageSum) track by $index">
                <button ng-class="{'active': $index == selectedIndex }"
                        class="m-button m-green m-green-hover m-white-text"
                        ng-click="searchFile(Selectedtype,infoSearch,$index)">{{$index+1}}
                </button>
            </div>
            <div class="m-inline m-margin-left">
                <button class="m-button m-green m-green-hover m-white-text"
                        ng-click="searchFile(Selectedtype,infoSearch,page=page+1)"
                        ng-disabled="page+1>=pageSum">Next
                </button>
            </div>
        </div>


    </div>
</div>
<!-- PRODUCT DETAIL SECTION END -->

<!-- ===========================
TESTIMONIAL SECTION START
=========================== -->

<!-- TESTIMONIAL SECTION END -->

<!-- ===========================
FOOTER START
=========================== -->
<!-- FOOTER END -->

<span id="m-toast-blue">text here is powerful</span>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/js/lib/jquery/jquery-latest.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/js/bootstrap.min.js"></script>

<!--Other necessary scripts-->
<script src="js/landing.js"></script>
<script src="js/lib/jquery/jquery.nicescroll.min.js"></script>
<script src="js/lib/jquery/jquery.jribbble-1.0.1.ugly.js"></script>
<script src="js/drifolio.js"></script>
<script src="js/wow.min.js"></script>
<script>
    new WOW().init();
</script>
<script src="/js/lib/angular-1.4.9/angular.js"></script>
<script src="/js/lib/angular-1.4.9/angular-resource.js"></script>
<script src="/js/lib/angular-1.4.9/angular-route.js"></script>

<script src="/js/controller/landingController/landingController.js"></script>

<!-- MODAL START -->
<div class="modal fade" id="detailModal" role="dialog">
    <div class="modal-dialog" style="width: 600px">
        <!-- Modal content-->
        <div class="modal-content m-modal-content">
            <div class="modal-header m-blue">
                <button type="button" class="close m-close-button"
                        data-dismiss="modal">&times;
                </button>
                <h4 class="modal-title m-white-text">{{fileDetail.name |
                    uppercase}}'s Detail</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-7">
                        <div id="article_table">
                            <table class="table table-bordered table-striped m-table">
                                <tr>
                                    <td width="50%">Name</td>
                                    <td>{{fileDetail.name}}</td>
                                </tr>
                                <tr>
                                    <td>Size</td>
                                    <td>{{fileDetail.size | number:2}} Kb</td>
                                </tr>
                                <tr>
                                    <td>Date upload</td>
                                    <td>{{fileDetail.dateupload | date:"dd-MM-yyyy"}}</td>
                                </tr>
                                <tr>
                                    <td>Total download</td>
                                    <td>{{total}}</td>
                                </tr>
                            </table>
                            <h4>Description:</h4>
                            <textarea readonly="readonly"
                                      class="form-control m-overflow" rows="4">{{fileDetail.description}}</textarea>
                            <!-- th:if="${userName} != null" -->

                            <!-- <div class="m-text-align-right" th:if="${userName} != null">
                                <button
                                    class="m-button m-blue m-blue-hover m-white-text m-margin-top"
                                    ng-click="saveChange(fileDetail.id)">Save Change</button>
                            </div> -->
                        </div>
                        <p>{{msgSave}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- MODAL END -->

</body>
</html>